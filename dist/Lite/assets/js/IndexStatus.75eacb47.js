import{K as _e,i as q,j as Ie,k as ke,u as ye,l as re}from"./index.1916c442.js";import{C as ce}from"./Card.5e470f9f.js";import{C as Le}from"./DonutChartWithLegend.a2f0fdb2.js";import{e as M,c as j,a as Ae,b as pe}from"./Caret.f0cd5451.js";import{o,c,a as t,g as K,f as X,v as Oe,k as _,l as h,J as ue,t as r,u as e,H as f,b as E,G as S,F as N,q as R,N as V,K as ge,x as De,n as Fe}from"./runtime-dom.esm-bundler.d8cc9f6e.js";import"./translations.8804e7f4.js";import{S as Pe}from"./Calendar.cf74fa1d.js";import{S as $}from"./Exclamation.718fb4f0.js";import{g as Ne,h as Ue,j as Be,k as Ge,m as Ve,n as $e,o as He,p as Me,q as je,r as We,s as Xe,a as J,t as Ke}from"./index.ea8ba50f.js";import{S as Ye,a as qe}from"./Mobile.ec4ca7d3.js";import{_ as te}from"./_plugin-vue_export-helper.eefbdd86.js";import{S as Y}from"./Link.4cc558ab.js";import{_ as a,s as Ze}from"./default-i18n.20001971.js";import{u as ze}from"./PostTypes.8f22f5d2.js";import{u as Je}from"./WpTable.2bfe12a8.js";import{C as Q}from"./Tooltip.ec56da3f.js";import{C as Qe}from"./Table.af46d4a1.js";import{S as ee}from"./External.5707cfe0.js";import{C as et}from"./Blur.400f058f.js";import{C as tt}from"./Index.daad859b.js";import{R as st}from"./RequiredPlans.67e702d8.js";import{u as at}from"./Cta.9c11c5ad.js";import{u as nt}from"./License.2a7aa322.js";import"./helpers.86fc376f.js";import"./Slide.f54bc05f.js";import"./AnimatedNumber.60a31462.js";import"./numbers.9fc174f3.js";import"./ScrollTo.81bea8a7.js";import"./Download.c15a249a.js";import"./Row.b818ec8c.js";import"./constants.e65116f2.js";import"./addons.b6e57b98.js";import"./upperFirst.6d3e3475.js";import"./_stringToArray.f9ddb970.js";import"./toString.a4cd37ed.js";import"./license.902e841d.js";const ot={},it={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 4 14 12",class:"aioseo-double-right-arrow"},lt=t("path",{fill:"currentColor",d:"M7.97913 10.25L4.16663 6.41667L5.33329 5.25L10.3333 10.25L5.33329 15.25L4.16663 14.0833L7.97913 10.25ZM13.4791 10.25L9.66663 6.41667L10.8333 5.25L15.8333 10.25L10.8333 15.25L9.66663 14.0833L13.4791 10.25Z"},null,-1),rt=[lt];function ct(C,d){return o(),c("svg",it,rt)}const ut=te(ot,[["render",ct]]),dt={},ht={fill:"currentColor",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-storefront"},_t=t("path",{d:"M480,448H468a4,4,0,0,1-4-4V273.51a4,4,0,0,0-5.24-3.86,104.92,104.92,0,0,1-28.32,4.78c-1.18,0-2.3.05-3.4.05a108.22,108.22,0,0,1-52.85-13.64,8.23,8.23,0,0,0-8,0,108.18,108.18,0,0,1-52.84,13.64,106.11,106.11,0,0,1-52.46-13.79,8.21,8.21,0,0,0-8.09,0,108.14,108.14,0,0,1-53.16,13.8,106.19,106.19,0,0,1-52.77-14,8.25,8.25,0,0,0-8.16,0,106.19,106.19,0,0,1-52.77,14c-1.09,0-2.19,0-3.37-.05h-.06a104.91,104.91,0,0,1-29.28-5.09A4,4,0,0,0,48,273.15V444a4,4,0,0,1-4,4H32.5c-8.64,0-16.1,6.64-16.48,15.28A16,16,0,0,0,32,480H479.5c8.64,0,16.1-6.64,16.48-15.28A16,16,0,0,0,480,448ZM224,380a4,4,0,0,1-4,4H132a4,4,0,0,1-4-4V316a12,12,0,0,1,12-12h72a12,12,0,0,1,12,12ZM380,448H308a4,4,0,0,1-4-4V316a12,12,0,0,1,12-12h56a12,12,0,0,1,12,12V444A4,4,0,0,1,380,448Z"},null,-1),pt=t("path",{d:"M492.57,170.28,449.65,71.79C438.41,47.62,412.74,32,384.25,32H127.7C99.21,32,73.54,47.62,62.3,71.79L19.38,170.28c-9,19.41,2.89,39.34,2.9,39.35l.28.45c.49.78,1.36,2,1.89,2.78.05.06.09.13.14.2l5,6.05a7.45,7.45,0,0,0,.6.65l5,4.83.42.36A69.65,69.65,0,0,0,45,231.73v.05a74,74,0,0,0,36,10.67c.82,0,1.64,0,2.47,0a76.08,76.08,0,0,0,51.89-20.31l.33-.31a7.94,7.94,0,0,1,10.89,0l.33.31a77.3,77.3,0,0,0,104.46,0,8,8,0,0,1,10.87,0h0a77.31,77.31,0,0,0,104.21.23,7.88,7.88,0,0,1,10.71,0,76.81,76.81,0,0,0,52.31,20.08l2.49,0a71.35,71.35,0,0,0,35-10.7v0c.95-.57,1.86-1.17,2.78-1.77A71.33,71.33,0,0,0,488,212.17l1.74-2.63q.26-.4.48-.84C491.88,205.32,500.78,187.94,492.57,170.28Z"},null,-1),gt=[_t,pt];function ft(C,d){return o(),c("svg",ht,gt)}const St=te(dt,[["render",ft]]),l=void 0,vt=()=>{const C={noResultsYetLowercase:a("No results yet",l),inspectOnGsc:a("Inspect in Google Search Console",l),testWithGoogle:a("Test with Google",l)},d={verdict:{title:a("Status",l),key:"verdict",description:a("Indicates the index status of the page in Search Statistics. This is the verdict result for the analysis.",l),getIcon:n=>{switch(n){case"PASS":return j;case"PARTIAL":case"FAIL":case"NEUTRAL":return M;case"VERDICT_UNSPECIFIED":default:return $}},parseValue:n=>{switch(n){case"PASS":return{value:a("URL is indexed",l)};case"PARTIAL":case"FAIL":case"NEUTRAL":return{value:a("URL not indexed",l)};case"VERDICT_UNSPECIFIED":default:return{value:a("Unknown indexing status",l)}}}},lastCrawlTime:{title:a("Last Crawl",l),key:"lastCrawlTime",description:a("This shows the date and time when Google's crawler (Googlebot) last visited and crawled the page.",l),getIcon:()=>Pe,parseValue:n=>({value:n||a("Never",l)})},crawledAs:{title:a("Crawled As",l),key:"crawledAs",description:a("Indicates whether Google crawled the page as a mobile or desktop user agent. This is important because Google uses mobile-first indexing for most websites.",l),getIcon:n=>{switch(n){case"DESKTOP":return qe;case"MOBILE":return Ye;case"CRAWLING_USER_AGENT_UNSPECIFIED":default:return $}},parseValue:n=>{switch(n){case"DESKTOP":return{value:a("Desktop user agent",l)};case"MOBILE":return{value:a("Mobile user agent",l)};case"CRAWLING_USER_AGENT_UNSPECIFIED":default:return{value:a("Unknown user agent",l)}}}},robotsTxtState:{title:a("Robots.txt",l),key:"robotsTxtState",description:a("This specifies whether your website's robots.txt file allows Googlebot to crawl the page.",l),getIcon:n=>{switch(n){case"ALLOWED":return j;case"DISALLOWED":return M;case"ROBOTS_TXT_STATE_UNSPECIFIED":default:return $}},parseValue:n=>{switch(n){case"ALLOWED":return{value:a("Crawling allowed",l)};case"DISALLOWED":return{value:a("Crawling blocked",l)};case"ROBOTS_TXT_STATE_UNSPECIFIED":default:return{value:a("Unknown",l)}}}},indexingState:{title:a("Indexing Allowed?",l),key:"indexingState",description:a("This specifies whether your website's robots meta tag allows Googlebot to index the page.",l),getIcon:n=>{switch(n){case"INDEXING_ALLOWED":return j;case"BLOCKED_BY_META_TAG":case"BLOCKED_BY_HTTP_HEADER":case"BLOCKED_BY_ROBOTS_TXT":return M;case"INDEXING_STATE_UNSPECIFIED":default:return $}},parseValue:n=>{switch(n){case"INDEXING_ALLOWED":return{value:a("Indexing allowed",l)};case"BLOCKED_BY_META_TAG":return{value:a("Indexing not allowed",l),description:a("'noindex' detected in 'robots' meta tag",l)};case"BLOCKED_BY_HTTP_HEADER":return{value:a("Indexing not allowed",l),description:a("'noindex' detected in 'X-Robots-Tag' http header",l)};case"BLOCKED_BY_ROBOTS_TXT":return{value:a("Indexing not allowed",l),description:a("Blocking robots.txt rule detected",l)};case"INDEXING_STATE_UNSPECIFIED":default:return{value:a("Unknown",l)}}}},pageFetchState:{title:a("Page Fetch",l),key:"pageFetchState",description:a("Indicates whether Google successfully fetched the page during its last visit.",l),getIcon:n=>{switch(n){case"SUCCESSFUL":return j;case"SOFT_404":case"BLOCKED_ROBOTS_TXT":case"NOT_FOUND":case"ACCESS_DENIED":case"SERVER_ERROR":case"REDIRECT_ERROR":case"ACCESS_FORBIDDEN":case"BLOCKED_4XX":case"INTERNAL_CRAWL_ERROR":case"INVALID_URL":return M;case"PAGE_FETCH_STATE_UNSPECIFIED":default:return $}},parseValue:n=>{switch(n){case"SUCCESSFUL":return{value:a("Successful",l)};case"SOFT_404":return{value:a("Soft 404",l)};case"BLOCKED_ROBOTS_TXT":return{value:a("Blocked by robots.txt",l)};case"NOT_FOUND":return{value:a("Not found (404)",l)};case"ACCESS_DENIED":return{value:a("Blocked due to unauthorized request (401)",l)};case"SERVER_ERROR":return{value:a("Server error (5xx)",l)};case"REDIRECT_ERROR":return{value:a("Redirection error",l)};case"ACCESS_FORBIDDEN":return{value:a("Blocked due to access forbidden (403)",l)};case"BLOCKED_4XX":return{value:a("Blocked due to other 4xx issue (not 403, 404)",l)};case"INTERNAL_CRAWL_ERROR":return{value:a("Internal error",l)};case"INVALID_URL":return{value:a("Invalid URL",l)};case"PAGE_FETCH_STATE_UNSPECIFIED":default:return{value:a("Unknown fetch state",l)}}}},userCanonical:{title:a("User-Declared Canonical",l),key:"userCanonical",description:a("Shows the canonical URL specified by you (the website owner). Canonical URLs help indicate the preferred version of a page, especially for duplicate content.",l),getIcon:()=>Y,parseValue:n=>n?{value:`<a href="${n}" target="_blank">${n}</a>`}:{value:a("None",l)}},googleCanonical:{title:a("Google-Selected Canonical",l),key:"googleCanonical",description:a("Reveals the canonical URL chosen by Googlebot. Sometimes, Googlebot may select a different canonical URL than the user-declared one.",l),getIcon:()=>Y,parseValue:n=>n?{value:`<a href="${n}" target="_blank" title=${n}>${n}</a>`}:{value:a("None",l)}}},b=n=>(n=n.toLowerCase(),n.indexOf("breadcrumb")!==-1?ut:n.indexOf("course")!==-1?Ne:n.indexOf("event")!==-1?Ue:n.indexOf("faq")!==-1?Be:n.indexOf("fact")!==-1?Ge:n.indexOf("job")!==-1?Ve:n.indexOf("review")!==-1?$e:n.indexOf("recipe")!==-1?He:n.indexOf("software")!==-1?Me:n.indexOf("video")!==-1?je:n.indexOf("product")!==-1?We:n.indexOf("merchant")!==-1?St:Xe);return{items:d,parseRichResults:n=>{if(!((n==null?void 0:n.detectedItems)||[]).length)return[];const p=[];return n.detectedItems.forEach(g=>{var O;p.push({label:g==null?void 0:g.richResultType,items:((O=g==null?void 0:g.items)==null?void 0:O.map(T=>{var k;const i={};(k=T==null?void 0:T.issues)==null||k.forEach(m=>{const u=m==null?void 0:m.issueMessage;i[u]||(i[u]={count:0,severity:m==null?void 0:m.issueSeverity}),i[u].count++});const D=Object.entries(i).map(([m,u])=>({message:1<u.count?Ze(a("%1$s (%2$d occurrences)",l),m,u.count):m,icon:()=>{switch(u.severity){case"ERROR":return M;case"WARNING":case"SEVERITY_UNSPECIFIED":default:return $}}}));return{name:T==null?void 0:T.name,issues:D||[]}}))||[],icon:b(g==null?void 0:g.richResultType)})}),p.filter(g=>g.label)},strings:C}},bt={class:"post-title"},mt=["onClick"],Rt={key:0,class:"row-actions"},Ct={class:"edit"},Tt=["href"],xt=["href"],wt=["onClick"],Et={class:"inner-row"},It={class:"inner-row__heading"},kt={class:"inner-table inner-table--index-status"},yt=t("thead",null,[t("tr",null,[t("th"),t("th"),t("th"),t("th")])],-1),Lt={key:0},At={colspan:"4"},Ot={key:0},Dt={key:1},Ft=["href"],Pt={scope:"col"},Nt={class:"inner-table__col inner-table__col--items-start"},Ut={scope:"col"},Bt={class:"inner-table__col inner-table__col--items-start"},Gt={scope:"col"},Vt={class:"inner-table__col inner-table__col--items-start"},$t=["innerHTML"],Ht={scope:"col"},Mt={class:"inner-table__col inner-table__col--items-start"},jt={scope:"col"},Wt={class:"inner-table__col inner-table__col--items-start"},Xt=["innerHTML"],Kt={scope:"col"},Yt={class:"inner-table__col inner-table__col--items-start"},qt=["innerHTML"],Zt={scope:"col"},zt={class:"inner-table__col inner-table__col--items-start"},Jt=["innerHTML"],Qt={scope:"col"},es={class:"inner-table__col inner-table__col--items-start"},ts=["innerHTML"],ss={key:0},as={colspan:"4"},ns=["href"],os={class:"inner-row__heading"},is={class:"inner-table"},ls={class:"inner-table__col"},rs=["href"],cs={key:1},us={class:"inner-row__heading"},ds={class:"inner-table"},hs={class:"inner-table__col"},_s=["href"],ps={key:1},gs={class:"inner-row__heading"},fs={class:"inner-table inner-table--rich-results"},Ss=t("thead",null,[t("tr",null,[t("th"),t("th"),t("th")])],-1),vs={scope:"col"},bs={class:"inner-table__col inner-table__col--items-start"},ms={class:"rich-result-type__label"},Rs={colspan:"2"},Cs={key:0,class:"rich-result-type-item-issues"},Ts={key:1},xs={class:"inner-table__col"},ws={key:1},Es={key:2},Is={colspan:"3"},ks=["href"],ys=["title"],Ls=["title"],As=["title"],Os=["title"],Ds=["title"],Fs={key:0,class:"loader-overlay-table"},de="searchStatisticsIndexStatus",he="index-status-objects-table",Ps={__name:"ObjectsTable",props:{paginatedRows:Object,selectedStatus:String,showTableFooter:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0}},setup(C){const b=_e(),I=q(),n=Ie(),p={richResults:a("Rich Results",void 0),richResultTypes:a("Rich Result Types",void 0),richResultTypesHelp:a("Results of the Google Rich Results Test. These are the different schema graphs that are added to the post. Empty if no rich results were found.",void 0),indexStatusResult:a("Index Status Result",void 0),sitemaps:a("Sitemaps",void 0),sitemapsHelp:a("Any sitemaps that this URL was listed in, as known by Google. Not guaranteed to be an exhaustive list, especially if Google did not discover this URL through a sitemap. Empty if no entries in sitemaps were found.",void 0),referringPages:a("Referring URLs",void 0),referringPagesHelp:a("URLs that link to the inspected URL, directly and indirectly.",void 0),issues:a("Issues",void 0),noIssues:a("No issues",void 0),notAvailable:a("N/A",void 0),refreshStatus:a("Refresh Status",void 0)},g=C,O=K(new Set),T=K(null),{items:i,parseRichResults:D,strings:k}=vt(),{editPost:m,viewPost:u}=ze(),{orderBy:y,orderDir:H,processAdditionalFilters:U,processChangeItemsPerPage:B,processFilterTable:Z,processPagination:Se,processSearch:ve,processSort:be,searchTerm:me,selectedFilters:se,wpTableKey:Re,wpTableLoading:ae}=Je({changeItemsPerPageSlug:de,fetchData:b.fetchIndexStatusObjects,tableId:he,tableRef:T.value,selectedFilters:{}}),Ce=X(()=>g.selectedStatus?{...se.value,status:g.selectedStatus}:se.value),Te=X(()=>g.paginatedRows.totals.page),xe=X(()=>[{slug:"title",label:a("Title",void 0),sortable:1<g.paginatedRows.totals.total,sortDir:y.value==="title"?H.value:"asc",sorted:y.value==="title"},{slug:"verdict",label:i.verdict.title,width:"110px"},{slug:"robotsTxt",label:i.robotsTxtState.title,width:"110px"},{slug:"pageFetch",label:i.pageFetchState.title,width:"110px"},{slug:"crawledAs",label:i.crawledAs.title,width:"120px"},{slug:"richResults",label:p.richResults,width:"135px"},{slug:"lastCrawlTime",label:i.lastCrawlTime.title,sortable:1<g.paginatedRows.totals.total,sortDir:y.value==="lastCrawlTime"?H.value:"asc",sorted:y.value==="lastCrawlTime",width:"120px"},{slug:"buttons",label:"",width:"60px"}]),ne=async(P,A,x)=>{x(P)},z=(P,A)=>{const x=i[A].parseValue(P[A]);let G=x==null?void 0:x.description;return A==="verdict"&&P.coverageState&&(G=P.coverageState),G?`${x.value} <div class="inner-row__desc">${G}</div>`:`${x.value}`},we=async(P,A)=>{T.value.activeRow=null,O.value.add(A);try{await I.getInspectionResult({paths:P.path,force:!0})}catch(x){console.error(x)}finally{O.value.delete(A);try{O.value.size||await Promise.all([b.fetchIndexStatusOverview(),b.fetchIndexStatusObjects()])}catch(x){console.error(x)}}};return(P,A)=>{var G,oe,ie;const x=Oe("base-button");return o(),_(e(Qe),{ref_key:"table",ref:T,id:he,"additional-filters":Object.values(((oe=(G=e(b).options)==null?void 0:G.table)==null?void 0:oe.additionalFilters)||{}),"selected-filters":Ce.value,"bulk-options":[],columns:xe.value,filters:[],"initial-items-per-page":e(n).settings.tablePagination[de],"initial-page-number":Te.value,"initial-search-term":((ie=C.paginatedRows)==null?void 0:ie.searchTerm)||e(me),key:e(Re),loading:e(ae)||e(b).objects.fetching,rows:C.paginatedRows.rows,"show-bulk-actions":!1,"show-header":C.showHeader,"show-table-footer":C.showTableFooter,totals:C.paginatedRows.totals,"show-items-per-page":"",onFilterTable:e(Z),onPaginate:e(Se),onProcessAdditionalFilters:A[0]||(A[0]=s=>e(U)({filters:s.filters,term:s.searchTerm,number:s.pageNumber})),onProcessChangeItemsPerPage:e(B),onSearch:e(ve),onSortColumn:e(be)},{title:h(({row:s,index:w,editRow:v})=>{var L,F;return[t("div",bt,[t("a",{href:"#",onClick:ue(W=>ne(w,s,v),["prevent"]),class:"allow-click"},r(s.objectTitle),9,mt)]),s!=null&&s.objectId?(o(),c("div",Rt,[t("span",Ct,[t("a",{href:(s==null?void 0:s.permalink)||"#",target:"_blank"},r(e(u)(((L=s==null?void 0:s.postTypeLabels)==null?void 0:L.singular)||null)),9,Tt),f(" | "),t("a",{href:(s==null?void 0:s.editLink)||"#",target:"_blank"},r(e(m)(((F=s==null?void 0:s.postTypeLabels)==null?void 0:F.singular)||null)),9,xt),f(" | "),t("a",{href:"#",onClick:ue(W=>we(s,w),["prevent","exact"])},r(p.refreshStatus),9,wt)])])):E("",!0)]}),"edit-row":h(({row:s})=>{var w;return[t("div",Et,[t("div",It,r(p.indexStatusResult),1),t("table",kt,[yt,t("tbody",null,[s.lastCrawlTime?(o(),c(N,{key:1},[t("tr",null,[t("th",Pt,r(e(i).pageFetchState.title)+":",1),t("td",null,[t("div",Nt,[(o(),_(R(e(i).pageFetchState.getIcon(s.pageFetchState)),{width:"20",height:"20"})),f(" "+r(e(i).pageFetchState.parseValue(s.pageFetchState).value),1)])]),t("th",Ut,r(e(i).crawledAs.title)+":",1),t("td",null,[t("div",Bt,[(o(),_(R(e(i).crawledAs.getIcon(s.crawledAs)),{width:"20",height:"20",color:"#8C8F9A"})),f(" "+r(e(i).crawledAs.parseValue(s.crawledAs).value),1)])])]),t("tr",null,[t("th",Gt,r(e(i).indexingState.title),1),t("td",null,[t("div",Vt,[(o(),_(R(e(i).indexingState.getIcon(s.indexingState)),{width:"20",height:"20"})),t("div",{innerHTML:z(s,"indexingState")},null,8,$t)])]),t("th",Ht,r(e(i).lastCrawlTime.title)+":",1),t("td",null,[t("div",Mt,[(o(),_(R(e(i).lastCrawlTime.getIcon(s.lastCrawlTime)),{width:"20",height:"20",color:"#8C8F9A"})),f(" "+r(e(i).lastCrawlTime.parseValue(s.lastCrawlTime).value),1)])])]),t("tr",null,[t("th",jt,r(e(i).verdict.title)+":",1),t("td",null,[t("div",Wt,[(o(),_(R(e(i).verdict.getIcon(s.verdict)),{width:"20",height:"20"})),t("div",{innerHTML:z(s,"verdict")},null,8,Xt)])]),t("th",Kt,r(e(i).googleCanonical.title)+":",1),t("td",null,[t("div",Yt,[(o(),_(R(e(i).googleCanonical.getIcon()),{width:"20",height:"20",color:"#8C8F9A"})),t("span",{innerHTML:e(i).googleCanonical.parseValue(s.googleCanonical).value},null,8,qt)])])]),t("tr",null,[t("th",Zt,r(e(i).robotsTxtState.title)+":",1),t("td",null,[t("div",zt,[(o(),_(R(e(i).robotsTxtState.getIcon(s.robotsTxtState)),{width:"20",height:"20"})),t("div",{innerHTML:z(s,"robotsTxtState")},null,8,Jt)])]),t("th",Qt,r(e(i).userCanonical.title)+":",1),t("td",null,[t("div",es,[(o(),_(R(e(i).userCanonical.getIcon()),{width:"20",height:"20",color:"#8C8F9A"})),t("span",{innerHTML:e(i).userCanonical.parseValue(s.userCanonical).value},null,8,ts)])])]),s!=null&&s.inspectionResultLink?(o(),c("tr",ss,[t("td",as,[t("a",{class:"inner-table__inspection-link button-secondary",href:s.inspectionResultLink,target:"_blank"},[f(r(e(k).inspectOnGsc)+" ",1),S(e(ee),{width:"12",height:"12"})],8,ns)])])):E("",!0)],64)):(o(),c("tr",Lt,[t("td",At,[s.coverageState&&s.indexingState!=="INDEXING_ALLOWED"?(o(),c("span",Ot,r(s.coverageState)+". ",1)):(o(),c("span",Dt,r(e(k).noResultsYetLowercase)+". ",1)),s!=null&&s.inspectionResultLink?(o(),c("a",{key:2,class:"inner-table__inspection-link",href:s.inspectionResultLink,target:"_blank"},[f(r(e(k).inspectOnGsc)+" ",1),S(e(ee),{width:"12",height:"12"})],8,Ft)):E("",!0)])]))])]),s.lastCrawlTime?(o(),c(N,{key:0},[t("div",os,[f(r(p.sitemaps)+" ",1),S(e(Q),{placement:"right"},{tooltip:h(()=>[f(r(p.sitemapsHelp),1)]),default:h(()=>[S(e(J))]),_:1})]),t("table",is,[t("tbody",null,[s.sitemap.length?(o(!0),c(N,{key:0},V(s.sitemap,(v,L)=>(o(),c("tr",{key:`sitemap-${L}`},[t("td",ls,[S(e(Y),{width:20,height:20,color:"#8C8F9A"}),t("a",{href:v,target:"_blank"},r(v),9,rs)])]))),128)):(o(),c("tr",cs,[t("td",null,r(p.notAvailable),1)]))])]),t("div",us,[f(r(p.referringPages)+" ",1),S(e(Q),{placement:"right"},{tooltip:h(()=>[f(r(p.referringPagesHelp),1)]),default:h(()=>[S(e(J))]),_:1})]),t("table",ds,[t("tbody",null,[s.referringUrls.length?(o(!0),c(N,{key:0},V(s.referringUrls,(v,L)=>(o(),c("tr",{key:`sitemap-${L}`},[t("td",hs,[S(e(Y),{width:20,height:20,color:"#8C8F9A"}),t("a",{href:v,target:"_blank"},r(v),9,_s)])]))),128)):(o(),c("tr",ps,[t("td",null,r(p.notAvailable),1)]))])]),t("div",gs,[f(r(p.richResultTypes)+" ",1),S(e(Q),{placement:"right"},{tooltip:h(()=>[f(r(p.richResultTypesHelp),1)]),default:h(()=>[S(e(J))]),_:1})]),t("table",fs,[Ss,t("tbody",null,[(((w=s.richResultsResult)==null?void 0:w.detectedItems)||[]).length?(o(!0),c(N,{key:0},V(e(D)(s.richResultsResult),(v,L)=>(o(),c("tr",{key:`rich-result-type-${L}`},[t("th",vs,[t("div",bs,[(o(),_(R(v.icon),{color:"#8C8F9A",fill:"currentColor"})),t("span",ms,r(v.label),1)])]),t("td",Rs,[(o(!0),c(N,null,V(v.items,(F,W)=>(o(),c("div",{class:"rich-result-type-item",key:`rich-result-type-item-${W}`},[t("b",null,r(F.name),1),F.issues.length?(o(),c("div",Cs,[t("b",null,r(p.issues),1),(o(!0),c(N,null,V(F.issues,(le,Ee)=>(o(),c("div",{key:`rich-result-type-item-issue-${Ee}`,class:"inner-table__col"},[(o(),_(R(le.icon()))),f(" "+r(le.message),1)]))),128))])):(o(),c("div",Ts,[t("div",xs,[S(e(j),{width:"20",height:"20"}),f(" "+r(p.noIssues),1)])]))]))),128))])]))),128)):(o(),c("tr",ws,[t("td",null,r(p.notAvailable),1)])),s!=null&&s.richResultsTestLink?(o(),c("tr",Es,[t("td",Is,[t("a",{class:"button-secondary",href:s.richResultsTestLink,target:"_blank"},[f(r(e(k).testWithGoogle)+" ",1),S(e(ee),{width:"12",height:"12"})],8,ks)])])):E("",!0)])])],64)):E("",!0)])]}),verdict:h(({row:s})=>[s.lastCrawlTime?(o(),c("div",{key:0,title:e(i).verdict.parseValue(s.verdict).value},[(o(),_(R(e(i).verdict.getIcon(s.verdict)),{width:"20",height:"20"}))],8,ys)):E("",!0)]),robotsTxt:h(({row:s})=>[s.lastCrawlTime?(o(),c("div",{key:0,title:e(i).robotsTxtState.parseValue(s.robotsTxtState).value},[(o(),_(R(e(i).robotsTxtState.getIcon(s.robotsTxtState)),{width:"20",height:"20"}))],8,Ls)):E("",!0)]),crawledAs:h(({row:s})=>[s.lastCrawlTime?(o(),c("div",{key:0,title:e(i).crawledAs.parseValue(s.crawledAs).value},[(o(),_(R(e(i).crawledAs.getIcon(s.crawledAs)),{width:"20",height:"20",color:"#8C8F9A"}))],8,As)):E("",!0)]),pageFetch:h(({row:s})=>[s.lastCrawlTime?(o(),c("div",{key:0,title:e(i).pageFetchState.parseValue(s.pageFetchState).value},[(o(),_(R(e(i).pageFetchState.getIcon(s.pageFetchState)),{width:"20",height:"20"}))],8,Os)):E("",!0)]),richResults:h(({row:s})=>{var w;return[(((w=s.richResultsResult)==null?void 0:w.detectedItems)||[]).length?(o(!0),c(N,{key:0},V(e(D)(s.richResultsResult),v=>(o(),c("div",{class:"rich-result-type",key:`rich-result-type-${v.label}`},[(o(),_(R(v.icon),{fill:"currentColor"})),t("span",{class:"rich-result-type__label",title:v.label},r(v.label),9,Ds)]))),128)):E("",!0)]}),lastCrawlTime:h(({row:s})=>[f(r(e(i).lastCrawlTime.parseValue(s.lastCrawlTime).value),1)]),buttons:h(({row:s,index:w,editRow:v})=>{var L,F;return[S(x,{onClick:W=>ne(w,s,v),type:((L=T.value)==null?void 0:L.activeRow)===w?"blue":"gray",disabled:e(ae),class:ge([{active:((F=T.value)==null?void 0:F.activeRow)===w},"btn-toggle-row allow-click"])},{default:h(()=>[S(e(Ae),{width:"20"})]),_:2},1032,["onClick","type","disabled","class"]),O.value.has(w)?(o(),c("div",Fs,[S(e(pe))])):E("",!0)]}),_:1},8,["additional-filters","selected-filters","columns","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","show-header","show-table-footer","totals","onFilterTable","onPaginate","onProcessChangeItemsPerPage","onSearch","onSortColumn"])}}},Ns={class:"aioseo-donut-chart-with-legend-wrapper"},Us={__name:"Index",setup(C){const d=_e(),b=q(),I=void 0,n={presenceOnGoogle:a("Presence on Google",I),tooltipPresenceOnGoogle:a("View at a glance how many of your posts have been indexed and discovered by Google.",I),indexOfIndividual:a("Post Index Status",I),tooltipIndexOfIndividual:a("The table below shows the index status of each of your posts, along with any extra information from Google that may be relevant as to why they are not indexed.",I),totalUrls:a("Total Posts",I)},p=K(null),g=K(""),O=X(()=>{const i=d.overview;if(!i)return[];const D=d.options.table.additionalFilters.statusOptions.options.filter(u=>!!(u!=null&&u.value)).map(u=>({...u,regex:new RegExp(u.value,"i"),name:u.label,emitValue:u.value,link:"#"}));let k=0;const m=D.map((u,y)=>{const U=i.post.results.filter(B=>u.regex.test(B==null?void 0:B.coverageState)).reduce((B,Z)=>B+Number(Z.count||0),0);return k+=U,{...u,count:U,ratio:y===0?100:i.post.total?U/i.post.total*100:0}}).map(u=>{if(u.value==="unknown|excluded|invalid|error"){const y=i.post.total-k;return{...u,count:u.count+y,ratio:i.post.total?(u.count+y)/i.post.total*100:0}}return u});return m.forEach((u,y)=>(y===0||m.forEach((H,U)=>(y<U&&(u.ratio=u.ratio+H.ratio),u)),u)),m}),T=async i=>{g.value=i,await Fe(),p.value.$el.querySelector(".aioseo-wp-additional-filters button").click(),g.value=""};return De(async()=>{if(b.isConnected&&!b.shouldShowSampleReports&&!d.objects.paginated.rows.length)try{await Promise.all([d.fetchIndexStatusOverview(),d.fetchIndexStatusObjects()])}catch(i){console.error(i)}}),(i,D)=>(o(),c("div",null,[S(e(ce),{slug:"presenceOnGoogle","header-text":n.presenceOnGoogle,toggles:!1,"no-slide":""},{"header-icon":h(()=>[S(e(Ke),{width:"24",height:"24"})]),tooltip:h(()=>[f(r(n.tooltipPresenceOnGoogle),1)]),default:h(()=>[t("div",Ns,[e(d).overview===null?(o(),_(e(pe),{key:0,dark:""})):(o(),_(e(Le),{key:1,total:e(d).overview.post.total,parts:O.value,label:n.totalUrls,onOnLabelClick:D[0]||(D[0]=k=>T(k))},null,8,["total","parts","label"]))])]),_:1},8,["header-text"]),S(e(ce),{slug:"indexOfIndividual","header-text":n.indexOfIndividual,toggles:!1,"no-slide":""},{tooltip:h(()=>[f(r(n.tooltipIndexOfIndividual),1)]),default:h(()=>[S(e(Ps),{ref_key:"refObjectsTable",ref:p,"paginated-rows":e(d).objects.paginated,"selected-status":g.value},null,8,["paginated-rows","selected-status"])]),_:1},8,["header-text"])]))}},fe=te(Us,[["__scopeId","data-v-63457f4d"]]),Bs={__name:"Blur",setup(C){return(d,b)=>(o(),_(e(et),null,{default:h(()=>[S(e(fe))]),_:1}))}},Gs={__name:"Index",setup(C){const{strings:d}=at(),b=ke(),I=ye(),n=q();return(p,g)=>(o(),c("div",null,[e(n).shouldShowSampleReports?E("",!0):(o(),_(e(Bs),{key:0})),e(n).shouldShowSampleReports?E("",!0):(o(),_(e(tt),{key:1,"cta-second-button-action":"",onCtaSecondButtonClick:e(n).showSampleReports,"cta-link":e(re).getPricingUrl("search-statistics","search-statistics-upsell","index-status"),"button-text":e(d).ctaButtonText,"second-button-text":e(d).ctaSecondButtonText,"cta-second-button-new-badge":"","cta-second-button-visible":"","learn-more-link":e(re).getUpsellUrl("search-statistics","index-status",e(I).isPro?"pricing":"liteUpgrade"),"feature-list":[e(d).feature1,e(d).feature2,e(d).feature3,e(d).feature4],"align-top":"","hide-bonus":!e(b).isUnlicensed},{"header-text":h(()=>[f(r(e(d).ctaHeader),1)]),description:h(()=>[S(e(st),{"core-feature":["search-statistics"]}),f(" "+r(e(d).ctaDescription),1)]),_:1},8,["onCtaSecondButtonClick","cta-link","button-text","second-button-text","learn-more-link","feature-list","hide-bonus"]))]))}},Ca={__name:"IndexStatus",setup(C){const d=q(),{shouldShowLite:b,shouldShowUpgrade:I}=nt();return(n,p)=>(e(I)("search-statistics","index-status")||e(b))&&!e(d).shouldShowSampleReports?(o(),_(e(Gs),{key:0,class:"aioseo-search-statistics-index-status"})):(o(),_(e(fe),{key:1,class:ge([{"aioseo-search-statistics-index-status--disable-click":e(d).shouldShowSampleReports},"aioseo-search-statistics-index-status"])},null,8,["class"]))}};export{Ca as default};
