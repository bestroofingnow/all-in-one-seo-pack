import{u as C,i as $,r as D}from"./index.1916c442.js";import{S as A,u as G}from"./Statistic.dedd4ba7.js";import{b as L}from"./Caret.f0cd5451.js";import{C as N}from"./Tooltip.ec56da3f.js";import{G as B}from"./Graph.1000e970.js";import{a as M}from"./index.ea8ba50f.js";import"./translations.8804e7f4.js";import{_ as V}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as r,s as u}from"./default-i18n.20001971.js";import{v as d,o as n,c as p,F as j,N as F,a as m,H,t as y,k as v,l as w,G as _,b as g,K as S,j as O}from"./runtime-dom.esm-bundler.d8cc9f6e.js";const a=void 0,R={setup(){const{formatStatistic:t}=G();return{formatStatistic:t,rootStore:C(),searchStatisticsStore:$()}},components:{CoreLoader:L,CoreTooltip:N,Graph:B,Statistic:A,SvgCircleQuestionMark:M},props:{statistics:{type:Array,default(){return[]}},statisticsData:{type:Object,default(){return null}},view:{type:String,default:"grid"},showGraph:{type:Boolean,default:!0}},data(){return{statisticsStrings:[{name:"impressions",label:r("Search Impressions",a),tooltip:u(r("The %1$stotal number of times your website appeared in search results%2$s within the selected timeframe.",a),"<strong>","</strong>")},{name:"clicks",label:r("Total Clicks",a),tooltip:u(r("The %1$stotal number of clicks that your website received from search results%2$s within the selected timeframe.",a),"<strong>","</strong>")},{name:"ctr",label:r("Avg. CTR",a),tooltip:u(r("The %1$saverage click-through rate of your content in search results%2$s within the selected timeframe.",a),"<strong>","</strong>")},{name:"position",label:r("Avg. Position",a),tooltip:u(r("The %1$saverage position of your content in search results%2$s within the selected timeframe.",a),"<strong>","</strong>")},{name:"keywords",label:r("Total Keywords",a),tooltip:u(r("The %1$stotal number of keywords that your website ranks for in search results%2$s within the selected timeframe.",a),"<strong>","</strong>")}]}},computed:{seoStatistics(){const t=[];return this.statistics.forEach(s=>{const o=this.statisticsStrings.find(i=>i.name===s);o&&t.push({...o,data:this.getData(s)})}),t},style(){const t=[];switch(this.view){case"side-by-side":t.push({"grid-template-columns":`repeat(${this.statistics.length}, 1fr)`});break;case"grid":t.push({"grid-template-columns":`repeat(${Math.ceil(this.statistics.length/2)}, 1fr)`,"grid-template-rows":`repeat(${Math.ceil(this.statistics.length/2)}, 1fr)`});break}return t}},methods:{getData(t){var o,i,f,c,h;const s=this.statisticsData?this.statisticsData:(i=(o=this.searchStatisticsStore.data)==null?void 0:o.seoStatistics)==null?void 0:i.statistics;return s?{total:s[t]||0,difference:s.difference&&Number(s.difference[t])||0,direction:s.difference&&0>s.difference[t]?"down":"up",chart:(h=(c=(f=this.searchStatisticsStore.data)==null?void 0:f.seoStatistics)==null?void 0:c.intervals)==null?void 0:h.map(l=>({x:D(new Date(l.date+" 00:00:00"),this.rootStore.aioseo.data.dateFormat),y:l[t]?l[t]:0}))}:{total:0,difference:0,direction:"up",chart:[]}}}},q={class:"statistics-title"},z=["innerHTML"],E={class:"statistics-current"},K={class:"statistics-current-total"},P={key:0,class:"statistics-chart"};function I(t,s,o,i,f,c){const h=d("svg-circle-question-mark"),l=d("core-tooltip"),b=d("statistic"),k=d("graph"),x=d("core-loader");return n(),p("div",{class:S(["aioseo-seo-statistics-overview",{[o.view]:!0,"hide-graph":!o.showGraph}]),style:O(c.style)},[(n(!0),p(j,null,F(c.seoStatistics,(e,T)=>(n(),p("div",{key:T,class:"statistics"},[m("div",{class:S([{blurred:i.searchStatisticsStore.loading.seoStatistics}])},[m("div",q,[H(y(e.label)+" ",1),e.tooltip?(n(),v(l,{key:0},{tooltip:w(()=>[m("span",{innerHTML:e.tooltip},null,8,z)]),default:w(()=>[_(h)]),_:2},1024)):g("",!0)]),m("div",E,[m("div",K,y(i.formatStatistic(e.name,e.data.total)),1),_(b,{class:S(["statistics-current-difference","statistics-current-difference--"+e.data.direction]),difference:e.data.difference,type:e.name,showCurrent:!1,"tooltip-offset":"-90px,0"},null,8,["class","difference","type"])]),o.showGraph?(n(),p("div",P,[_(k,{series:[{name:e.label,data:e.data.chart}],height:60,preset:"overview","invert-y-axis":e.name==="position"},null,8,["series","invert-y-axis"])])):g("",!0)],2),i.searchStatisticsStore.loading.seoStatistics?(n(),v(x,{key:0,dark:""})):g("",!0)]))),128))],6)}const rt=V(R,[["render",I]]);export{rt as S};
