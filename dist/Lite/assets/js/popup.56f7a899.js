import{d as g,k as y,b as _}from"./index.1916c442.js";import"./translations.8804e7f4.js";import{g as h}from"./params.af7ed354.js";const A=g("ConnectStore",{state:()=>({}),getters:{isConnected:()=>{var n;const t=y(),o=_();return(void 0).toLowerCase()!=="pro"&&((n=o.internalOptions.internal.siteAnalysis)==null?void 0:n.connectToken)||t.license.isActive}},actions:{getConnectUrl({key:t,wizard:o}){return Promise.resolve({body:{success:!1,message:"Connect functionality disabled - independent plugin"}})},processConnect(t){return Promise.resolve({body:{success:!1,message:"Connect functionality disabled - independent plugin"}})},saveConnectToken(t){return Promise.resolve({body:{success:!0}})}}});let r=!1,e=null,w;const a=t=>{w(t,e,a)},C=(t,o,n,l,i,c,s,m,u)=>{let d=50,p=50;{const v=window.outerHeight;d=(window.innerWidth-n)/2,p=(v-50-l)/2}let f=`location=0,status=0,width=${n},height=${l},left=${d},top=${p}`;(o==="_blank"||o==="_self")&&(f=""),(!e||e.closed)&&(e=window.open(t,o,f)),e&&e.focus(),r=window.setInterval(()=>W(c,s,m,u),500),u&&(w=u,window.addEventListener("message",a,!1))},W=(t,o,n,l=!1)=>{if(l){if(!e){window.removeEventListener("message",a,!1),window.clearInterval(r),n();return}e.closed&&(e=null,window.removeEventListener("message",a,!1),window.clearInterval(r),n());return}let i={};try{i=h(e.location.search)}catch{}const c=[];if(t.forEach(s=>{if(i[s]!==void 0&&i[s]){c.push(!0);return}c.push(!1)}),c.every(s=>s))return window.clearInterval(r),o(i).then(()=>{e.close(),e=null,n(!0)});if(!e){window.clearInterval(r),n();return}e.closed&&(e=null,window.clearInterval(r),n())};export{C as p,A as u};
